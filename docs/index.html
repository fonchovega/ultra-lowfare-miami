<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ultra-Low Fare · Dashboard Histórico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Dashboard histórico de tarifas LIM ⇄ MIA / FLL / MCO para Ultra-Low Fare.">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="ulf-header">
    <div class="ulf-header-main">
      <h1>Ultra-Low Fare · Dashboard Histórico</h1>
      <p class="ulf-subtitle">Monitor de tarifas LIM ⇄ MIA / FLL / MCO · v1.3.3</p>
    </div>
    <div class="ulf-header-meta">
      <span class="ulf-pill" id="pill-mode">Modo: Live</span>
      <span class="ulf-pill ulf-pill-soft" id="pill-source">Sin datos aún</span>
    </div>
  </header>

  <main class="ulf-main">
    <!-- Panel de estado general -->
    <section class="ulf-panel">
      <h2>Estado de la base histórica</h2>
      <div class="ulf-card-grid ulf-card-grid-3" id="status-panel">
        <article class="ulf-card">
          <h3>Total de registros</h3>
          <p class="ulf-metric" id="stat-total-registros">–</p>
          <p class="ulf-helper-text">Entradas en data/historico*.json</p>
        </article>

        <article class="ulf-card">
          <h3>Última actualización</h3>
          <p class="ulf-metric" id="stat-ultima-fecha">–</p>
          <p class="ulf-helper-text" id="stat-ultima-zona">Zona horaria: –</p>
        </article>

        <article class="ulf-card">
          <h3>Rutas monitoreadas</h3>
          <p class="ulf-metric" id="stat-rutas">–</p>
          <p class="ulf-helper-text">Según meta.rutas del último registro</p>
        </article>
      </div>
    </section>

    <!-- Panel de resumen del último barrido -->
    <section class="ulf-panel">
      <div class="ulf-panel-header">
        <h2>Último barrido de tarifas</h2>
        <span class="ulf-badge" id="badge-ultima-ejecucion">Sin ejecutar</span>
      </div>
      <div class="ulf-card-grid" id="last-run-summary">
        <!-- Aquí se insertan tarjetas por ruta vía app.js -->
      </div>
      <p class="ulf-helper-text" id="last-run-note">
        Se lee el último elemento de historico (último barrido almacenado).
      </p>
    </section>

    <!-- Tabla de histórico rápido -->
    <section class="ulf-panel">
      <div class="ulf-panel-header">
        <h2>Histórico (vista rápida)</h2>
        <div class="ulf-panel-actions">
          <label class="ulf-label-small">
            Mostrar filas:
            <select id="rows-select">
              <option value="10">10</option>
              <option value="25">25</option>
              <option value="50">50</option>
            </select>
          </label>
        </div>
      </div>

      <div class="ulf-table-wrapper">
        <table class="ulf-table" id="history-table">
          <thead>
            <tr>
              <th>Fecha</th>
              <th>Ruta</th>
              <th>Precio (USD)</th>
              <th>Umbral (USD)</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <!-- Filas generadas vía app.js -->
          </tbody>
        </table>
      </div>
      <p class="ulf-helper-text">
        Se muestra una vista resumida de las últimas simulaciones, empezando por las más recientes.
      </p>
    </section>
  </main>

  <footer class="ulf-footer">
    <span>Ultra-Low Fare · v1.3.3</span>
    <span id="footer-data-source">Fuente: sin datos</span>
  </footer>

  <script src="app.js"></script>
</body>
</html>
